<!-- Header -->
<header class="header">
    <div class="main-bar">
        <div class="container">
            <div class="header-content">
                <div class="left-content">
                    <a href="javascript:void(0);" class="back-btn">
                        <i class="fa-solid fa-arrow-left" routerLink="../mobOrders"
                            [hidden]=" router.url.includes('mobPreOrder')">
                        </i>
                    </a>

                </div>
                <div class="mid-content" *ngIf="yeoman.previewOrder!=undefined">
                    <h4 class="title mb-0 text-nowrap">Orden #: {{yeoman.previewOrder.ref}}
                        <div class="badge outline badge-block badge-outline-success badge-outline-primary" *ngIf="yeoman.previewOrder.status=='nueva'">
                            <span>{{yeoman.previewOrder.status}}</span>
                        </div>
                        <div class="badge outline badge-block badge-outline-primary badge-outline-primary" *ngIf="yeoman.previewOrder.status=='procesando'">
                            <span>{{yeoman.previewOrder.status}}</span>
                        </div>
                        <div class="badge outline badge-block badge-outline-info badge-outline-primary" *ngIf="yeoman.previewOrder.status=='terminada'">
                            <span>{{yeoman.previewOrder.status}}</span>
                        </div>
                    </h4>

                    {{yeoman.previewOrder.createdAt | date: 'dd/MM/yyyy' }} a las {{yeoman.previewOrder.createdAt |
                    date: ' h:mm a' }}
                </div>
                <div class="right-content"></div>
            </div>
        </div>
    </div>
</header>
<!-- Header -->

<!-- Page Content -->
<div class="page-content">
    <div class="container fb">
        <!-- {{yeoman.previewOrder.status}} -->
        <div class="badge outline badge-block badge-outline-success badge-outline-primary">
            <!-- <span>{{yeoman.previewOrder.status}}</span> -->
        </div>
        <div class="product-list" *ngFor="let articulo of yeoman.previewOrder.order; let i = index"
            [hidden]="articulo.articulo.arnombre===undefined">
            <!-- <div class="dz-content">
                <h4 class="item-name">
                    <a>
                        {{articulo.articulo.arnombre}}
                    </a>
                </h4>
                <div class="price-wrapper">
                    <h6 class="current-price">Precio:
                        <br />
                        <span [hidden]="articulo.articulo.descuentoIndex>-1">
                            {{articulo.articulo.arprecio | number:'1.2-2' }}
                        </span>
                        <span [hidden]="(articulo.articulo.descuentoIndex===undefined) 
                            || (articulo.articulo.descuentoIndex!==undefined 
                            && articulo.articulo.descuentoIndex===-1)">

                            <span class="precio-tachado">
                                {{articulo.articulo.arprecio | number:'1.2-2' }}
                            </span>
                            <span class="precio-diferente">
                                {{articulo.precioConDescuento | number:'1.2-2' }} </span>
                        </span>
                    </h6>
                    <span style="color: black;" style="font-size: 0.9rem;">
                        IVA
                        <span *ngIf="articulo.precioConDescuento !==undefined ">
                            ({{articulo.articulo.ariva}} %)
                            <br />
                            <span>


                                + {{articulo.articulo.arprecio*articulo.articulo.ariva /100 |
                                number:'1.2-2'}}
                            </span>
                        </span></span>
                </div>
                <div class="footer-wrapper">
                    <div class="" style="position: unset;" *ngIf="articulo.precioConDescuento==0 ">
                        {{articulo.articulo.arprecio+(articulo.articulo.arprecio*articulo.articulo.ariva /100) |
                        number:'1.2-2'}} x {{articulo.cantidad}} =
                        <span style="color: #0A60C2;">

                       
                        {{(articulo.articulo.arprecio+(articulo.articulo.arprecio*articulo.articulo.ariva /100)
                        )*articulo.cantidad | number:'1.2-2'}} </span>
                    </div>
                    <div class="" style="position: unset;" *ngIf="articulo.precioConDescuento!=0 ">
                        {{articulo.precioConDescuento+(articulo.precioConDescuento*articulo.articulo.ariva /100) |
                        number:'1.2-2'}} x {{articulo.cantidad}} =
                        <span style="color: #0A60C2;">
                            {{(articulo.precioConDescuento+(articulo.precioConDescuento*articulo.articulo.ariva /100)
                            )*articulo.cantidad | number:'1.2-2'}}

                        </span>
                    </div>
                </div>
            </div> -->
                <div class="dz-content">
                <h4 class="item-name">
                    <a >
                        {{articulo.articulo.arnombre}}
                    </a>
                </h4>
                <div class="price-wrapper">
                    <h6 class="current-price">Precio
                        <br/>
                        <span *ngIf=" (!articulo.articulo.precioConDescuento && !articulo.articulo.ardescuento) || (!articulo.articulo.ardescuento && articulo.articulo.descuentoIndex==-1) 
                        ">
                            {{articulo.articulo.arprecio | number:'1.2-2' }}
                        </span>
                        <span [hidden]="articulo.precioConDescuento ||  (!articulo.articulo.precioConDescuento && !articulo.articulo.ardescuento) || (!articulo.articulo.ardescuento && articulo.articulo.descuentoIndex==-1) 
                        ">
                            {{articulo.articulo.arprecio | number:'1.2-2' }}
                        </span>
                        <span
                            [hidden]="(!articulo.articulo.precioConDescuento && !articulo.articulo.ardescuento) || (!articulo.articulo.ardescuento && articulo.articulo.descuentoIndex==-1)  ">

                            <span class="precio-tachado">
                                {{articulo.articulo.arprecio | number:'1.2-2' }}
                            </span>
                            <span class="precio-diferente">
                                {{articulo.precioConDescuento | number:'1.2-2' }} </span>
                        </span>
                    </h6>
                    <span style="color: black;" style="font-size: 0.9rem; margin-left: 1%;">
                       <span style="font-weight: bold;">
                        Dcto
                        
                       </span>
                        <br/>
                        <span *ngIf="articulo.articulo.descuentoIndex>-1  && articulo.articulo.ardescuento<=0">                   
                            <span style="color: #000;">

                                {{articulo.articulo.descuentoPorcentaje[articulo.articulo.descuentoIndex]}}

                            </span> %
</span>
<span style="color: black;" *ngIf="articulo  && articulo.articulo.descuentoIndex>=-1 
    && articulo.articulo.descuentoPorcentaje
    && articulo.articulo.descuentoPorcentaje[articulo.articulo.descuentoIndex] 
    && articulo.articulo.arcodigo 
    && articulo.articulo.descuentoPorcentaje">
                                
     {{ articulo.articulo.ardescuento + articulo.articulo.descuentoPorcentaje[articulo.articulo.descuentoIndex]}} %
</span>
<span *ngIf="articulo.articulo.ardescuento>0 && articulo.articulo.descuentoIndex==-1">
    <span style="color: black;">
        {{articulo.articulo.ardescuento}}
    </span>
    %</span>
                        <span *ngIf="articulo  && articulo.articulo.descuentoIndex>=-1 
                            && articulo.articulo.descuentoPorcentaje
                            && articulo.articulo.descuentoPorcentaje[articulo.articulo.descuentoIndex] 
                            && articulo.articulo.arcodigo 
                            && articulo.articulo.descuentoPorcentaje">
                            {{ (articulo.articulo.arprecio *(articulo.articulo.descuentoPorcentaje[articulo.articulo.descuentoIndex] + articulo.articulo.ardescuento) / 100) |
                            number:'1.2-2' }}
                           
                            <br />
                            <!-- ( <span style="color: black;">{{ articulo.articulo.ardescuento }} %</span> +<span style="color: blueviolet;">{{ articulo.articulo.descuentoPorcentaje[articulo.articulo.descuentoIndex]}} %
                                <span style="color: blueviolet;">
                                    [DP]
                                </span>
                            </span> ) -->
                        </span>
                        <span
                            *ngIf="articulo.articulo.ardescuento>0 && articulo.articulo.descuentoIndex==-1">
                            {{ articulo.articulo.arprecio * articulo.articulo.ardescuento / 100 |
                            number:'1.2-2' }}
                           
                        </span>
                        <span
                        *ngIf="articulo.articulo.descuentoIndex>-1  && articulo.articulo.ardescuento<=0">
                            {{ (articulo.precioConDescuento *
                            articulo.articulo.descuentoPorcentaje[articulo.articulo.descuentoIndex]
                            / 100) |
                            number:'1.2-2' }}
                            
    


                        </span>
                        <span *ngIf="!articulo.precioConDescuento
                        
                        || (!articulo.articulo.precioConDescuento && !articulo.articulo.ardescuento) || (!articulo.articulo.ardescuento && articulo.articulo.descuentoIndex==-1) 
                        ">
                            Sin descuento

                        </span>
                    </span>
                    <span  style=" margin-left: 6%;">
                        <span style="font-weight: bold;">
                            IVA                            
                           </span>
                        <br/>{{articulo.articulo.ariva}} %
                        <br />
                        <span *ngIf="articulo.precioConDescuento !==undefined && articulo.articulo.arcodigo !==undefined ">
                            {{articulo.precioConDescuento*articulo.articulo.ariva /100 |
                            number:'1.2-2'}} 
                        </span>
                        <span *ngIf="articulo.precioConDescuento ===undefined && articulo.articulo.arcodigo !==undefined ">
                            {{articulo.articulo.arprecio*articulo.articulo.ariva /100 |
                            number:'1.2-2'}}
                        </span>
                    </span>
                   
                </div>
               
             
               
            </div>
            <div class="text-end">
                <a href="javascript:void(0);" class="dz-media media-70" style="margin: auto;">
                    <img class="rounded-sm" src="assets/meat/images/not.jpg" alt="image">
                </a>

                <!-- <div class="dz-stepper style-5 border-1 rounded-stepper">
                    <div class="input-group bootstrap-touchspin bootstrap-touchspin-injected">
                        <span class="input-group-btn input-group-prepend">
                            <button class="btn btn-primary bootstrap-touchspin-down" type="button"
                                >-</button>
                        </span>
                        <input readonly="" class="stepper form-control" type="text" value="{{articulo.cantidad}}"
                            name="demo3">
                        <span class="input-group-btn input-group-append">
                            <button class="btn btn-primary bootstrap-touchspin-up" type="button"
                                >+</button>
                        </span>
                    </div>
                </div> -->

            </div>

        </div>

        <div class="bill-detail">
            <!-- <h6>Su Orden</h6> -->
            <ul>
                <li>
                    <span>Subtotal</span>
                    <span class="price">
                        <!-- <i class="fa-solid fa-indian-rupee-sign"></i> -->
                        {{yeoman.previewOrder.total | number: '1.2-2' }} </span>
                </li>
                <li class="mb-2 pb-2">
                    <span>Dcto</span>
                    <span class="price">
                        <!-- <i class="fa-solid fa-indian-rupee-sign"></i> -->
                        {{yeoman.previewOrder.totalDescuento| number: '1.2-2' }}</span>
                </li>
                <li class="mb-2 pb-2">
                    <span>IVA</span>
                    <span class="price">
                        <!-- <i class="fa-solid fa-indian-rupee-sign"></i> -->
                        {{yeoman.previewOrder.totalIVA | number: '1.2-2' }}</span>
                </li>
                <li>
                    <h6 class="mb-0">Total</h6>
                    <span class="text-primary">
                        <!-- <i class="fa-solid fa-indian-rupee-sign"></i> -->
                        {{ yeoman.previewOrder.total + yeoman.previewOrder.totalIVA | number:'1.2-2'}}
                    </span>
                </li>
            </ul>
        </div>
        
    </div>
</div>